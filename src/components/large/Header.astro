<script>
let wrapper = document.querySelector(".wrapper");
//Detect touch device
function isTouchDevice() {
  try {
    //We try to create TouchEvent. It would fail for desktops and throw error
    document.createEvent("TouchEvent");
    return true;
  } catch (e) {
    return false;
  }
}

const move = (e) => {
  //Try, catch to avoid any errors for touch screens (Error thrown when user doesn't move his finger)
  try {
    //PageX and PageY return the position of client's cursor from top left of screen
    var x = !isTouchDevice() ? e.pageX : e.touches[0].pageX;
    var y = !isTouchDevice() ? e.pageY : e.touches[0].pageY;
  } catch (e) {}
  //set left and top of div based on mouse position
  wrapper.style.backgroundPositionX = -e.offsetX + 90 + "px";
  wrapper.style.backgroundPositionY = -e.offsetY + 90 + "px";
};
//For mouse
wrapper.addEventListener("mousemove", (e) => {
  move(e);
});
//For touch
wrapper.addEventListener("touchmove", (e) => {
  move(e);
});
</script>

<header>
  <div class="wrapper">
    <h1>LISA.H</h1>
    <p>
      Lisa.H is an aspiring frontend developer from the Netherlands, passionate about creating accessible and performant websites.
    </p>
    <!-- <h1>LISA.H</h1> -->

    <div class="before"></div>
    <div class="base"></div>
    <div class="after"></div>
  </div>
</header>

<style>
  header {
    display: grid;
    padding: 1rem;
    max-width: 750px;
    height: 100%;
    min-height: 400px;
    margin-bottom: 1rem;
  }

  .wrapper {
    display: grid;
    place-items: center;
    background-color: var(--primary);
    /* background-image: url(/svg/gradient.svg); */
    background-image: url(/svg/grad-one.svg);
    background-repeat: no-repeat;
    background-size: 100%;
    border-radius: 12px;
    margin-top: 1.5rem;
    transition: all .2s linear ease-in-out;
  }

  h1 {
    font-family: "Gokil";
    font-weight: 400;
    font-size: 96px;
    line-height: 1;
    letter-spacing: 2px;
    transition: all 0.25s ease-in-out;
  }

  p {
    text-transform: uppercase;
    text-wrap: balance;
    line-height: 0.95;
    font-size: 1.2rem;
    letter-spacing: -1.5px;
    font-variation-settings:
      "wdth" 100,
      "wght" 100;
    margin-bottom: 1rem;
    padding: 0 0.2rem;
  }

  .base {
    anchor-name: --base;

    justify-self: flex-end;
    align-self: flex-end;
    background-color: var(--bg);
    height: 2.5rem;
    width: 10rem;
    border-radius: 16px 0 0 0;
  }

  .before {
    position: absolute;
    position-anchor: --base;
    right: anchor(--base left);

    align-self: flex-end;
    height: 1.75rem;
    width: 2.5rem;
    background-image: url(/svg/polygon.svg);
    background-size: cover;
  }

  .after {
    position: absolute;
    position-anchor: --base;
    bottom: anchor(--base top);
    right: anchor(--base right);
    height: 1.75rem;
    width: 2.5rem;
    background-image: url(/svg/polygon.svg);
    background-size: cover;
  }

  @media (width > 450px) {
    .base {
      height: 3.5rem;
    }
  }

  @media (prefers-reduced-motion: no-preference) {
    .wrapper {
      background-size: 100%;
      background-position: bottom;
      /* animation: bg-rotate 8s ease-in-out infinite alternate; */
    }

    @keyframes bg-rotate {
      0% {
        background-position: left;
      }
      25% {
        background-position: bottom left;
      }
      75% {
        background-position: top right;
      }
      100% {
        background-position: right;
      }
    }
  }
</style>
